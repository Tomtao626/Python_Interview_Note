# Python 中 read 、readline 和 readlines 的区别？
### read()
    read 表示一次性将文件的所有内容都读取到内存之中，如果文件占用空间很大，一次性读取出出现内存不足的问题。
    针对文件过大，内存不足的问题，我们可以使用，read(size) 一次最多读取多少的 size 字节，读取大文件时候可以多次调用该方法。
### readline()
    每次只读取一行的内容，如果是文本文件，建议使用该方法，一次读取一行，逐行读取。
### readlines()
    和 read() 方法一样，也是一次读取所有的内容，但是返回结果不同，
    该方法是按行读取后返回的一个列表，可以使用for循环取出列表中每个元素，一个元素就代表一行。

# 大文件只需读取部分内容，或者避免读取时候内存不足的解决方法？
    方法1：直接for循环迭代文件，避免内存不足，但是使用 with 打开文件后会自动关闭，需要再次打开。
```python
with open("filtest.txt", 'r') as f:
    for line in f:
        print(line)
```
    方法2：迭代器切片操作，使用 islice。
    islice返回一个生成器函数，进行切片操作，取出索引为101到105的值
```python
from itertools import islice
with open("filtest.txt", 'r') as f:
    for line in islice(f, 101, 105):
        print(line)
    for line in islice(f, 5): #只给一个参数，指定的是结束的位置
        print(line)
```

# 什么是上下文？with 上下文管理器原理？
    1.上下文(context)，个人理解其实就是字面意思，在不同的场景下有不同的意思，也可以理解为和文章中的上下文是一个意思，在通俗一点，我觉得叫环境更好。
      ....林冲大叫一声“啊也！”....
      问:这句话林冲的“啊也”表达了林冲怎样的心里？
      答:啊你妈个头啊！
      看，一篇文章，给你摘录一段，没前没后，你读不懂，因为有语境，就是语言环境存在，一段话说了什么，要通过上下文(文章的上下文)来推断。
    2.子程序之于程序，进程之于操作系统，甚至app的一屏之于app，都是一个道理。程序执行了部分到达子程序，子程序要获得结果，要用到程序之前的一些结果(包括但不限于外部变量值，外部对象等等)；
      app点击一个按钮进入一个新的界面，也要保存你是在哪个屏幕跳过来的等等信息，以便你点击返回的时候能正确跳回，如果不存肯定就无法正确跳回了。
      看这些都是上下文的典型例子，理解成环境就可以，(而且上下文虽然叫上下文，但是程序里面一般都只有上文而已，只是叫的好听叫上下文。。
      进程中断在操作系统中是有上有下的，不过不给题主说了，免得产生新的问题)
    3.上下文虽然叫上下文，但是程序里面一般都只有上文而已，只是为了叫的好听叫上下文。
      进程中断在操作系统中是有上有下的，不过不这个高深的问题就不要深究了
      任何实现了 __enter__() 和 __exit__() 方法的对象都可以称之为上下文管理器，上下文管理器对象可以使用with关键字。
      显然，文件（file）对象也实现了上下文管理器。
    4.那么文件对象是如何实现这两个方法的呢？我们可以模拟实现一个自己的文件类，让该类实现 __enter__() 和 __exit__() 方法。
```python
# 文件管理器
class File():

    # 初始化方法
    def __init__(self, filename, mode):
        self.filename = filename
        self.mode = mode

    # 打开文件的方法，返回我们打开的对象，也就是传入的文件
    def __enter__(self):
        print("entering")
        self.f = open(self.filename, self.mode)
        return self.f

    # 关闭文件的方法，不用我们自己手动去关闭文件对象了
    def __exit__(self, *args):
        print("will exit")
        self.f.close()

with File('filetest.txt', 'w') as f:
    print("writing")
    f.write('hello, world')
```
